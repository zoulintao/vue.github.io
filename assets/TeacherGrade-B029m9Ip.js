import{_ as N,r as x,a as c,o as C,c as v,b as a,j as i,d as y,w as _,u as w,e as f,f as o,h as b}from"./index-zbuosgjY.js";import{g as B}from"./information-D-eBBSQO.js";import{a as D}from"./staffApi-CZydvpWR.js";const G={class:"table_box"},U={class:"mt",align:"center"},A={key:1},S={key:1},T={key:1},M={key:1},j={__name:"TeacherGrade",setup(E){const k=B(),g=w(),u=x(0),l=c({value1:null,value2:null,value3:null,value4:null}),p=c({idNum:"",grade:""}),s=c({value1:null,value2:null,value3:null,value4:null});C(()=>{switch(p.idNum=k.idNum,p.grade=k.grade,p.grade){case"助教":u.value=1;break;case"讲师":u.value=2;break;case"副教授":u.value=3;break;case"教授":u.value=4;break;default:u.value=0;break}});const m=d=>{let e=new Date(d),r=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;let t=e.getDate();return t=t<10?"0"+t:t,r+"-"+n+"-"+t},V=()=>{console.log("dateAll",l),l.value1!=null&&(s.value1=m(l.value1[0])),l.value2!=null&&(s.value2=m(l.value2[0])),l.value3!=null&&(s.value3=m(l.value3[0])),l.value4!=null&&(s.value4=m(l.value4[0])),D(s,p.idNum).then(d=>{d.code===200&&(console.log("数据上传成功：",d),g.go(-1))}),console.log("最终数据：",s)},h=()=>{for(const d in l)l[d]=null};return(d,e)=>{const r=f("el-date-picker"),n=f("el-button");return o(),v("div",G,[a("table",U,[e[7]||(e[7]=a("thead",null,[a("tr",null,[a("th",{colspan:"6"},"教师级别统计表")]),a("tr",null,[a("th",null,"教师级别"),a("th",null,"助教"),a("th",null,"讲师"),a("th",null,"副教授"),a("th",null,"教授"),a("th",null,"操作")])],-1)),a("tbody",null,[a("tr",null,[e[6]||(e[6]=a("td",null,"任命时间",-1)),a("td",null,[u.value>=1?(o(),i(r,{key:0,modelValue:l.value1,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value1=t),type:"dates",placeholder:"请选择日期"},null,8,["modelValue"])):(o(),v("span",A,"###"))]),a("td",null,[u.value>=2?(o(),i(r,{key:0,modelValue:l.value2,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value2=t),type:"dates",placeholder:"请选择日期"},null,8,["modelValue"])):(o(),v("span",S,"###"))]),a("td",null,[u.value>=3?(o(),i(r,{key:0,modelValue:l.value3,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value3=t),type:"dates",placeholder:"请选择日期"},null,8,["modelValue"])):(o(),v("span",T,"###"))]),a("td",null,[u.value>=4?(o(),i(r,{key:0,modelValue:l.value4,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value4=t),type:"dates",placeholder:"请选择日期"},null,8,["modelValue"])):(o(),v("span",M,"###"))]),a("td",null,[y(n,{type:"primary",onClick:V},{default:_(()=>e[4]||(e[4]=[b("提交数据")])),_:1}),y(n,{type:"info",onClick:h},{default:_(()=>e[5]||(e[5]=[b("重置")])),_:1})])])])])])}}},Y=N(j,[["__scopeId","data-v-83e30eb4"]]);export{Y as default};
